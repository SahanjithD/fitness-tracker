# Fitness Tracker (MotionX)

Flutter fitness tracker app to log workouts and meals.
## Features

- Email/password authentication (Firebase Auth)
- Workout logging + stats (Cloud Firestore under `users/{uid}/workoutLogs`)
- Meal/nutrition logging (Cloud Firestore)
- Profile picture upload (Firebase Storage)

## Prerequisites

- Flutter SDK installed and working (`flutter doctor`)
- A Firebase project (this repo is configured for `motionx-fitnesstracker` via FlutterFire)

## Running the app

```bash
flutter pub get
flutter run
```

Hot reload: `r` | Hot restart: `R`

## Architecture Diagrams

### High-level Architecture

```mermaid
flowchart LR
  subgraph App[Flutter App]
    UI["UI Screens (AuthGate, Home, Exercise, Food)"]
    Providers["Providers (ExerciseProvider, FoodProvider, ...)"]
    Services["Services (AuthService, FirebaseExerciseService, NutritionService, ...)"]
  end

  subgraph OnDevice["ML (stubs)"]
    EC["ExerciseCountingModel"]
    FR["FoodRecognitionModel"]
  end

  subgraph Firebase["Firebase: motionx-fitnesstracker"]
    Auth["Firebase Auth"]
    Firestore["Cloud Firestore"]
    Storage["Cloud Storage"]
  end

  UI --> Providers --> Services
  Services --> Auth
  Services --> Firestore
  Services --> Storage
  Services -.-> EC
  Services -.-> FR

  FirebaseOptions["lib/firebase_options.dart"] -.-> App
  App -->|initialize| FirebaseOptions
```

### Workout Log Data Flow

```mermaid
flowchart LR
  User["User"]
  UI["UI: Exercise Screen"]
  AuthGate["AuthGate"]
  AuthService["AuthService (FirebaseAuth.instance)"]
  ExerciseService["FirebaseExerciseService"]
  Firestore["Firestore (users/{uid}/workoutLogs)"]
  Providers["ExerciseProvider"]

  User --> UI
  UI --> AuthGate
  AuthGate -->|checks auth| AuthService
  UI -->|save log| ExerciseService
  ExerciseService -->|write doc with server timestamp| Firestore
  Firestore -->|read| Providers
  Providers --> UI
```

### Firebase (quick)

- **Project ID:** motionx-fitnesstracker
- **Init file:** `lib/firebase_options.dart` (used in `lib/main.dart` via `Firebase.initializeApp(...)`)

## Firebase setup

- Ensure `lib/firebase_options.dart` exists (generated by FlutterFire CLI).
- Android: place `google-services.json` in `android/app/` (already present in this repo).
- iOS: add `GoogleService-Info.plist` to `ios/Runner` if targeting iOS.
- The app initializes Firebase in `lib/main.dart` with `DefaultFirebaseOptions.currentPlatform`.

## Dev commands

```bash
flutter pub get
flutter run
flutter build apk   # build release for Android
flutter test        # run unit/widget tests
```



